# vim: foldmethod=marker:foldmarker={{{,}}}

# NAME
#   ~/.fluxbox/keys - keyboard shortcuts configuration for fluxbox(1).
#
# REFERENCE
#   * FLUXBOX-KEYS(5)    - man 5 fluxbox-keys
#   * Keyboard shortcuts - http://fluxbox-wiki.org/index.php?title=Keyboard_shortcuts
#   * Keymodes           - http://fluxbox-wiki.org/index.php?title=Keymodes
#   * Key Bindings       - http://fluxbox.sourceforge.net/docbook/en/html/c296.html
#   * Actions            - http://fluxbox.sourceforge.net/docbook/en/html/x359.html

#----Fluxbox Actions----{{{----------------------------------------------------
Control Escape            :RootMenu
Control Menu              :RootMenu
Control Mod4 Delete       :Reconfigure
Control Mod4 Shift Delete :Restart
# }}}

#----Display Actions----{{{---------------------------------------------------
Control Mod4 Left         :ExecCommand switchscreen
Control Mod4 Right        :ExecCommand switchscreen && DISPLAY=:0.0 invoke_window_by_wm_class "VirtualBox"
# }}}

#----Workspace Actions----{{{--------------------------------------------------
Mod1 Menu      :WorkspaceMenu
Mod4 Menu      :ClientMenu

# Control Mod4 d :Deiconify AllWorkspace # Conflict in mark mode.

Mod4 F1        :Workspace 1  # Change to a Workspace
Mod4 F2        :Workspace 2
Mod4 F3        :Workspace 3
Mod4 F4        :Workspace 4
Mod4 F5        :Workspace 5
Mod4 F6        :Workspace 6
Mod4 F7        :Workspace 7
Mod4 F8        :Workspace 8
Mod4 F9        :Workspace 9
# }}}

#----Desktop Actions----{{{----------------------------------------------------
OnDesktop Mouse1   :HideMenus
OnDesktop Mouse2   :WorkspaceMenu
OnDesktop Mouse3   :RootMenu

# OnDesktop Mouse4 :PrevWorkspace  # This can be a bit distracting ...
# OnDesktop Mouse5 :NextWorkspace

OnToolbar Mouse4   :PrevWorkspace  # Scroll on the toolbar
OnToolbar Mouse5   :NextWorkspace  # to change workspaces
# }}}

#----Window Actions----{{{-----------------------------------------------------
OnTitlebar Mouse3        :WindowMenu
Mod1 space               :WindowMenu
OnTitlebar Mouse1        :MacroCmd {Focus} {Raise} {ActivateTab}

OnWindow Mod1 Mouse3     :MacroCmd {Raise} {Focus} {StartResizing NearestCorner}
OnWindow Mod1 Mouse1     :MacroCmd {Raise} {Focus} {StartMoving}

OnTitlebar Move1         :StartMoving
OnTitlebar Double Mouse1 :Maximize

OnLeftGrip Move1         :StartResizing bottomleft
OnRightGrip Move1        :StartResizing bottomright
OnWindowBorder Move1     :StartMoving

Mod1 Tab                 :NextWindow {groups} (workspace=[current])  # Alt-Tab !! FBCV13 !!
Mod1 Shift Tab           :PrevWindow {groups} (workspace=[current])  # !! FBCV13 !!

Mod1 Mod4 F1             :SendToWorkspace 1
Mod1 Mod4 F2             :SendToWorkspace 2
Mod1 Mod4 F3             :SendToWorkspace 3
Mod1 Mod4 F4             :SendToWorkspace 4
Mod1 Mod4 F5             :SendToWorkspace 5
Mod1 Mod4 F6             :SendToWorkspace 6
Mod1 Mod4 F7             :SendToWorkspace 7
Mod1 Mod4 F8             :SendToWorkspace 8
Mod1 Mod4 F9             :SendToWorkspace 9

Control Mod4 F1          :TakeToWorkspace 1
Control Mod4 F2          :TakeToWorkspace 2
Control Mod4 F3          :TakeToWorkspace 3
Control Mod4 F4          :TakeToWorkspace 4
Control Mod4 F5          :TakeToWorkspace 5
Control Mod4 F6          :TakeToWorkspace 6
Control Mod4 F7          :TakeToWorkspace 7
Control Mod4 F8          :TakeToWorkspace 8
Control Mod4 F9          :TakeToWorkspace 9

Mod4 w c                 :Close
Mod4 w d                 :ToggleDecor
Mod4 w f                 :Fullscreen
Mod4 w h                 :MaximizeHorizontal
Mod4 w i                 :Iconify
Mod4 w k                 :KillWindow
# Mod4 w l               :Claimed by Window Layer Mode
# Mod4 w m               :Claimed by MoveMode                                   
Mod4 w n                 :SetLayer Normal
# Mod4 w r               :RaiseLayer # TODO: Errm, was ist das? Einen Konflikt?
# Mod4 w r               :Claimed by ResizeMode
Mod4 w s                 :Shade
Mod4 w t                 :SetLayer Top
Mod4 w v                 :MaximizeVertical
Mod4 w x                 :Maximize
# Mod4 w w               :Claimed by winctrlMode
Mod4 0                   :GoToWindow -1 {static groups} (iconhidden=no)
Mod4 1                   :GoToWindow 1  {static groups} (iconhidden=no)
Mod4 2                   :GoToWindow 2  {static groups} (iconhidden=no)
Mod4 3                   :GoToWindow 3  {static groups} (iconhidden=no)
Mod4 4                   :GoToWindow 4  {static groups} (iconhidden=no)
Mod4 5                   :GoToWindow 5  {static groups} (iconhidden=no)
Mod4 6                   :GoToWindow 6  {static groups} (iconhidden=no)
Mod4 7                   :GoToWindow 7  {static groups} (iconhidden=no)
Mod4 8                   :GoToWindow 8  {static groups} (iconhidden=no)
Mod4 9                   :GoToWindow 9  {static groups} (iconhidden=no)
# }}}

#----Tab Actions----{{{--------------------------------------------------------
OnTitlebar Mouse2        :StartTabbing

Mod4 Tab                 :NextTab
Mod4 Shift Tab           :PrevTab
Mod4 bracketright        :NextTab
Mod4 bracketleft         :PrevTab
Mod4 Shift bracketleft   :MoveTabLeft
Mod4 Shift bracketright  :MoveTabRight
Mod4 BackSpace           :DetachClient

Mod4 t 1                 :Tab 1
Mod4 t 2                 :Tab 2
Mod4 t 3                 :Tab 3
Mod4 t 4                 :Tab 4
Mod4 t 5                 :Tab 5
Mod4 t 6                 :Tab 6
Mod4 t 7                 :Tab 7
Mod4 t 8                 :Tab 8
Mod4 t 9                 :Tab 9
# }}}

#----Window winctrlMode----{{{-------------------------------------------------
Mod4 w w                         :MacroCmd { ExecCommand osd_msg "WinCtrl Mode" } { KeyMode winctrlMode }

winctrlMode: Mod1 Tab            :NextWindow {groups} (workspace=[current])  # Alt-Tab !! FBCV13 !!
winctrlMode: Mod1 Shift Tab      :PrevWindow {groups} (workspace=[current])  # !! FBCV13 !!

winctrlMode: Return              :ExecCommand winctrl moveto_center

winctrlMode: h                   :ExecCommand winctrl moveto_left
winctrlMode: l                   :ExecCommand winctrl moveto_right
winctrlMode: k                   :ExecCommand winctrl moveto_top
winctrlMode: j                   :ExecCommand winctrl moveto_bottom

winctrlMode: Control Return      :ExecCommand winctrl resizeto_quadrant

winctrlMode: Shift h             :ExecCommand winctrl growto_leftmargin
winctrlMode: Shift l             :ExecCommand winctrl growto_rightmargin
winctrlMode: Shift k             :ExecCommand winctrl growto_topmargin
winctrlMode: Shift j             :ExecCommand winctrl growto_bottommargin

winctrlMode: Control h           :ExecCommand winctrl growto_leftmargin
winctrlMode: Control l           :ExecCommand winctrl growto_rightmargin
winctrlMode: Control k           :ExecCommand winctrl growto_topmargin
winctrlMode: Control j           :ExecCommand winctrl growto_bottommargin

winctrlMode: Shift Control Left  :ResizeHorizontal -10
winctrlMode: Shift Control Right :MoveRight         10
winctrlMode: Shift Control Up    :ResizeVertical   -10
winctrlMode: Shift Control Down  :MoveDown          10

winctrlMode: greater             :MaximizeHorizontal
winctrlMode: asciicircum         :MaximizeVertical

winctrlMode: m                   :MacroCmd { ExecCommand osd_msg "Window Move Mode" } { KeyMode MoveMode }
winctrlMode: r                   :MacroCmd { ExecCommand osd_msg "Window Resize Mode" } { KeyMode ResizeMode }
# }}}

#----Window MoveMode----{{{----------------------------------------------------
Mod4 w m           :MacroCmd { ExecCommand osd_msg "Window Move Mode" } { KeyMode MoveMode }

MoveMode: h        :MoveLeft   5
MoveMode: j        :MoveDown   5
MoveMode: k        :MoveUp     5
MoveMode: l        :MoveRight  5

MoveMode: Shift h  :MoveLeft   20
MoveMode: Shift j  :MoveDown   20
MoveMode: Shift k  :MoveUp     20
MoveMode: Shift l  :MoveRight  20

MoveMode: KP_Home  :MoveTo 0 0 TopLeft       # 7/Home
MoveMode: KP_Up    :MoveTo * * Top           # 8/Up
MoveMode: KP_Prior :MoveTo 0 0 TopRight      # 9/PgUp
MoveMode: KP_Left  :MoveTo 0 * Left          # 4/Left
MoveMode: KP_Begin :MoveTo 0 0 Center        # 5/Center
MoveMode: KP_Right :MoveTo 0 * Right         # 6/Right
MoveMode: KP_End   :MoveTo 0 0 BottomLeft    # 1/End
MoveMode: KP_Down  :MoveTo * * Bottom        # 2/Down
MoveMode: KP_Next  :MoveTo 0 0 BottomRight   # 3/PgDn

MoveMode: x        :Maximize
MoveMode: r        :MacroCmd { ExecCommand osd_msg "Window Resize Mode" } { KeyMode ResizeMode }
MoveMode: w        :MacroCmd { ExecCommand osd_msg "WinCtrl Mode" } { KeyMode winctrlMode }
#  }}}

#----Window ResizeMode----{{{--------------------------------------------------
Mod4 w r                        :MacroCmd { ExecCommand osd_msg "Window Resize Mode" } { KeyMode ResizeMode }

ResizeMode: h                   :ResizeHorizontal -1
ResizeMode: j                   :ResizeVertical    1
ResizeMode: k                   :ResizeVertical   -1
ResizeMode: l                   :ResizeHorizontal  1

ResizeMode: Shift h             :ResizeHorizontal -10
ResizeMode: Shift j             :ResizeVertical    10
ResizeMode: Shift k             :ResizeVertical   -10
ResizeMode: Shift l             :ResizeHorizontal  10

ResizeMode: KP_Home             :Resize -2 -2
ResizeMode: Shift KP_Home       :Resize -5 -5
ResizeMode: KP_Left             :Resize -2  0
ResizeMode: Shift KP_Left       :Resize -5  0
ResizeMode: KP_Up               :Resize  0 -2
ResizeMode: Shift KP_Up         :Resize  0 -5

ResizeMode: KP_Prior            :MacroCmd { MoveTo * * Top } { MaximizeVertical }
ResizeMode: KP_Begin            :MacroCmd { ResizeTo 800 600 } { Maximize }
ResizeMode: KP_End              :MacroCmd { MoveTo 0 * Left } { MaximizeHorizontal }

ResizeMode: KP_Right            :Resize 2 0 # growing
ResizeMode: Shift KP_Right      :Resize 5 0
ResizeMode: KP_Down             :Resize 0 2
ResizeMode: Shift KP_Down       :Resize 0 5
ResizeMode: KP_Next             :Resize 2 2
ResizeMode: Shift KP_Next       :Resize 5 5
# ResizeMode: KP_Next           :MacroCmd {Resize 1 1} {Move 10 10}

ResizeMode: Return              :ExecCommand winctrl resizeto_quadrant

ResizeMode: m                   :MacroCmd { ExecCommand osd_msg "Window Move Mode" } { KeyMode MoveMode }
ResizeMode: w                   :MacroCmd { ExecCommand osd_msg "WinCtrl Mode" } { KeyMode winctrlMode }
# }}}

#----Window Layer Mode----{{{--------------------------------------------------
Mod4 w l          :MacroCmd { ExecCommand osd_msg "Set Window Layer Mode" } {KeyMode SetWindowLayer}

SetWindowLayer: t :SetLayer Top
SetWindowLayer: n :SetLayer Normal
SetWindowLayer: b :SetLayer Bottom
SetWindowLayer: d :SetLayer Desktop
SetWindowLayer: l :LowerLayer
SetWindowLayer: r :RaiseLayer
# }}}

#----Window Mark Mode----{{{---------------------------------------------------
Mod4 w a                    :MacroCmd { ExecCommand osd_msg "Mark Mode" } {KeyMode MarkMode}

# winmark mark x       # creates mark 'x' pointing at the current window
# winmark summon x     # activates window associated with mark 'x'

MarkMode: Mod1 Tab       :NextWindow {groups} (workspace=[current])   # Alt-Tab !! FBCV13 !!
MarkMode: Mod1 Shift Tab :PrevWindow {groups} (workspace=[current])  !! FBCV13 !!

MarkMode: 0              :ExecCommand winmark mark   0
MarkMode: 1              :ExecCommand winmark mark   1
MarkMode: 2              :ExecCommand winmark mark   2
MarkMode: 3              :ExecCommand winmark mark   3
MarkMode: 4              :ExecCommand winmark mark   4
MarkMode: 5              :ExecCommand winmark mark   5
MarkMode: 6              :ExecCommand winmark mark   6
MarkMode: 7              :ExecCommand winmark mark   7
MarkMode: 8              :ExecCommand winmark mark   8
MarkMode: 9              :ExecCommand winmark mark   9

MarkMode: a              :ExecCommand winmark mark   a
MarkMode: b              :ExecCommand winmark mark   b
MarkMode: c              :ExecCommand winmark mark   c
MarkMode: d              :ExecCommand winmark mark   d
MarkMode: e              :ExecCommand winmark mark   e
MarkMode: f              :ExecCommand winmark mark   f
MarkMode: g              :ExecCommand winmark mark   g
MarkMode: h              :ExecCommand winmark mark   h
MarkMode: i              :ExecCommand winmark mark   i
MarkMode: j              :ExecCommand winmark mark   j
MarkMode: k              :ExecCommand winmark mark   k
MarkMode: l              :ExecCommand winmark mark   l
MarkMode: m              :ExecCommand winmark mark   m
MarkMode: n              :ExecCommand winmark mark   n
MarkMode: o              :ExecCommand winmark mark   o
MarkMode: p              :ExecCommand winmark mark   p
MarkMode: q              :ExecCommand winmark mark   q
MarkMode: r              :ExecCommand winmark mark   r
MarkMode: s              :ExecCommand winmark mark   s
MarkMode: t              :ExecCommand winmark mark   t
MarkMode: u              :ExecCommand winmark mark   u
MarkMode: v              :ExecCommand winmark mark   v
MarkMode: w              :ExecCommand winmark mark   w
MarkMode: x              :ExecCommand winmark mark   x
MarkMode: y              :ExecCommand winmark mark   y
MarkMode: z              :ExecCommand winmark mark   z

Control Mod1 Mod4 0      :ExecCommand winmark mark   0
Control Mod1 Mod4 1      :ExecCommand winmark mark   1
Control Mod1 Mod4 2      :ExecCommand winmark mark   2
Control Mod1 Mod4 3      :ExecCommand winmark mark   3
Control Mod1 Mod4 4      :ExecCommand winmark mark   4
Control Mod1 Mod4 5      :ExecCommand winmark mark   5
Control Mod1 Mod4 6      :ExecCommand winmark mark   6
Control Mod1 Mod4 7      :ExecCommand winmark mark   7
Control Mod1 Mod4 8      :ExecCommand winmark mark   8
Control Mod1 Mod4 9      :ExecCommand winmark mark   9

Control Mod1 Mod4 a      :ExecCommand winmark mark   a
Control Mod1 Mod4 b      :ExecCommand winmark mark   b
Control Mod1 Mod4 c      :ExecCommand winmark mark   c
Control Mod1 Mod4 d      :ExecCommand winmark mark   d
Control Mod1 Mod4 e      :ExecCommand winmark mark   e
Control Mod1 Mod4 f      :ExecCommand winmark mark   f
Control Mod1 Mod4 g      :ExecCommand winmark mark   g
Control Mod1 Mod4 h      :ExecCommand winmark mark   h
Control Mod1 Mod4 i      :ExecCommand winmark mark   i
Control Mod1 Mod4 j      :ExecCommand winmark mark   j
Control Mod1 Mod4 k      :ExecCommand winmark mark   k
Control Mod1 Mod4 l      :ExecCommand winmark mark   l
Control Mod1 Mod4 m      :ExecCommand winmark mark   m
Control Mod1 Mod4 n      :ExecCommand winmark mark   n
Control Mod1 Mod4 o      :ExecCommand winmark mark   o
Control Mod1 Mod4 p      :ExecCommand winmark mark   p
Control Mod1 Mod4 q      :ExecCommand winmark mark   q
Control Mod1 Mod4 r      :ExecCommand winmark mark   r
Control Mod1 Mod4 s      :ExecCommand winmark mark   s
Control Mod1 Mod4 t      :ExecCommand winmark mark   t
Control Mod1 Mod4 u      :ExecCommand winmark mark   u
Control Mod1 Mod4 v      :ExecCommand winmark mark   v
Control Mod1 Mod4 w      :ExecCommand winmark mark   w
Control Mod1 Mod4 x      :ExecCommand winmark mark   x
Control Mod1 Mod4 y      :ExecCommand winmark mark   y
Control Mod1 Mod4 z      :ExecCommand winmark mark   z

Control Mod4 0           :ExecCommand winmark summon 0
Control Mod4 1           :ExecCommand winmark summon 1
Control Mod4 2           :ExecCommand winmark summon 2
Control Mod4 3           :ExecCommand winmark summon 3
Control Mod4 4           :ExecCommand winmark summon 4
Control Mod4 5           :ExecCommand winmark summon 5
Control Mod4 6           :ExecCommand winmark summon 6
Control Mod4 7           :ExecCommand winmark summon 7
Control Mod4 8           :ExecCommand winmark summon 8
Control Mod4 9           :ExecCommand winmark summon 9

Control Mod4 a           :ExecCommand winmark summon a
Control Mod4 b           :ExecCommand winmark summon b
Control Mod4 c           :ExecCommand winmark summon c
Control Mod4 d           :ExecCommand winmark summon d
Control Mod4 e           :ExecCommand winmark summon e
Control Mod4 f           :ExecCommand winmark summon f
Control Mod4 g           :ExecCommand winmark summon g
Control Mod4 h           :ExecCommand winmark summon h
Control Mod4 i           :ExecCommand winmark summon i
Control Mod4 j           :ExecCommand winmark summon j
Control Mod4 k           :ExecCommand winmark summon k
Control Mod4 l           :ExecCommand winmark summon l
Control Mod4 m           :ExecCommand winmark summon m
Control Mod4 n           :ExecCommand winmark summon n
Control Mod4 o           :ExecCommand winmark summon o
Control Mod4 p           :ExecCommand winmark summon p
Control Mod4 q           :ExecCommand winmark summon q
Control Mod4 r           :ExecCommand winmark summon r
Control Mod4 s           :ExecCommand winmark summon s
Control Mod4 t           :ExecCommand winmark summon t
Control Mod4 u           :ExecCommand winmark summon u
Control Mod4 v           :ExecCommand winmark summon v
Control Mod4 w           :ExecCommand winmark summon w
Control Mod4 x           :ExecCommand winmark summon x
Control Mod4 y           :ExecCommand winmark summon y
Control Mod4 z           :ExecCommand winmark summon z

Control Mod4 Period      :If { Some Matches (qterm) } { ToggleCmd { NextWindow (qterm) } { ExecCommand qterm toggle } } { ExecCommand qterm hide }
# }}}

#----Command Hotkeys----{{{----------------------------------------------------
Control Mod4 period  :ExecCommand qterm
Control Shift Escape :ExecCommand urxvtc -name htop -title htop -e htop -u $USER --sort-key CPU%

#Mod4   a            :Claimed by MarkMode
Mod4    b            :If { Some Matches (Navigator) } { NextWindow (Navigator) } { ExecCommand xdg-open 'http://www.google.co.uk/webhp?complete=1' }
Mod4    d            :ToggleCmd { ShowDesktop } { Deiconify }
Mod4    f            :If { Some Matches (dolphin) } { NextWindow (dolphin) } { ExecCommand xdg-open ~/ }
Mod4    g            :ExecCommand xdg-open `googlize`  # clipboard keyword search
Mod4    Mod1 g       :ExecCommand xdg-open 'http://127.0.0.1:30127/?hl=en_GB&src=14&s=f6gdGknV4MTC5Tya_vD2PdzAcY0'
Mod4    l            :ExecCommand xset s activate && xset dpms force off && gnome-screensaver-command --lock
Mod4    r            :If { Some Matches (gmrun) } { NextWindow (gmrun) } { ExecCommand gmrun }
#Mod4   s            :Claimed by MarkMode
#       Mod4 v       :Claimed by SpecialKeys/alsamixergui
#       Mod4 w       :Claimed by Window Mode
Mod4    apostrophe   :ExecCommand ~/.bin/summon wfcmgr.Wfcmgr toggle_hidden
Mod4    Home         :ExecCommand xdg-open 'http://www.google.co.uk/webhp?complete=1'
Mod4    period       :If { Some Matches (qterm) } { ToggleCmd { NextWindow (qterm) } { ExecCommand qterm toggle } } { ExecCommand qterm hide }
Mod4    space        :ExecCommand gnome-do --mini --glassframe --quiet
# }}}

#----Special Keys----{{{-------------------------------------------------------
176       :Exec amixer sset Master,0 1+
174       :Exec amixer sset Master,0 1-

151       :Exec alltray evolution

# 174 176 :ExecCommand alsamixergui
160  none :ExecCommand amixer-volume-control Master   toggle
Mod1 160  :ExecCommand amixer-volume-control PCM      toggle
174  none :ExecCommand amixer-volume-control Master  -1
Mod1 174  :ExecCommand amixer-volume-control PCM     -1
176  none :ExecCommand amixer-volume-control Master   2
Mod1 176  :ExecCommand amixer-volume-control PCM      2

144  none :ExecCommand aqualung -N 0 -B  # back
153  none :ExecCommand aqualung -N 0 -F  # forward
Mod1 162  :ExecCommand aqualung -N 0 -L  # play
162  none :ExecCommand aqualung -N 0 -U  # toggle pause
164  none :ExecCommand aqualung -N 0 -T  # stop

178  none :ExecCommand xdg-open `googlize`
236  none :ExecCommand evolution
151  none :ExecCommand evolution

Mod4 v    :If { Some Matches (ALSAMixer) } { NextWindow (ALSAMixer) } { ExecCommand alsamixergui }
# }}}




